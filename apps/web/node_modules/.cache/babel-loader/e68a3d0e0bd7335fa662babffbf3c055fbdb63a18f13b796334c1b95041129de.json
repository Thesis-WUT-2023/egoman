{"ast":null,"code":"import Cookies from 'js-cookie';\nconst GetCurrentUser = async () => {\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      'Authorization': 'Bearer ' + Cookies.get(\"token\").toString()\n    }\n  };\n  const response = await fetch(\"http://localhost:3000/users/current\", requestOptions);\n  const data = await response.json();\n  setInputFields(data);\n};\n_c = GetCurrentUser;\nconst DeleteAccount = async () => {\n  const requestOptions = {\n    method: \"DELETE\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      'Authorization': 'Bearer ' + Cookies.get(\"token\").toString()\n    }\n  };\n  const response = await fetch(\"http://localhost:3000/users/current\", requestOptions);\n  const data = await response.json();\n  if (response.ok) {\n    Cookies.set(\"authenticated\", false);\n    Cookies.set(\"token\", \"\");\n    Cookies.set(\"email\", false);\n    Cookies.set(\"name\", \"\");\n    Cookies.set(\"surname\", \"\");\n    navigate(\"/SignIn\");\n  }\n};\n_c2 = DeleteAccount;\nconst UpdateAccount = async () => {\n  const requestOptions = {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      'Authorization': 'Bearer ' + Cookies.get(\"token\").toString()\n    },\n    body: JSON.stringify({\n      new_name: inputFields.name,\n      new_surname: inputFields.surname\n    })\n  };\n  const response = await fetch(\"http://localhost:3000/users/update/settings\", requestOptions);\n  const data = await response.json();\n  if (!response.ok) {\n    setFormMessage(\"Error\");\n  } else {\n    setFormMessage(\"Name has been updated\");\n  }\n};\n_c3 = UpdateAccount;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"GetCurrentUser\");\n$RefreshReg$(_c2, \"DeleteAccount\");\n$RefreshReg$(_c3, \"UpdateAccount\");","map":{"version":3,"names":["Cookies","GetCurrentUser","requestOptions","method","headers","get","toString","response","fetch","data","json","setInputFields","_c","DeleteAccount","ok","set","navigate","_c2","UpdateAccount","body","JSON","stringify","new_name","inputFields","name","new_surname","surname","setFormMessage","_c3","$RefreshReg$"],"sources":["/home/rayan/Desktop/egoman/apps/web/src/api.js"],"sourcesContent":["import Cookies from 'js-cookie';\n\n\n\n\n\n\n\n\n\nconst GetCurrentUser = async () => {\n    const requestOptions = {\n        method: \"GET\",\n        headers: { \"Content-Type\": \"application/json\", 'Authorization': 'Bearer ' + Cookies.get(\"token\").toString() },\n    };\n    const response = await fetch(\"http://localhost:3000/users/current\", requestOptions);\n    const data = await response.json();\n\n    setInputFields(data);\n}\nconst DeleteAccount = async () => {\n    const requestOptions = {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\", 'Authorization': 'Bearer ' + Cookies.get(\"token\").toString() },\n    };\n    const response = await fetch(\"http://localhost:3000/users/current\", requestOptions);\n    const data = await response.json();\n\n    if (response.ok) {\n        Cookies.set(\"authenticated\", false);\n        Cookies.set(\"token\", \"\");\n        Cookies.set(\"email\", false);\n        Cookies.set(\"name\", \"\");\n        Cookies.set(\"surname\", \"\");\n\n        navigate(\"/SignIn\");\n    }\n}\n\nconst UpdateAccount = async () => {\n    const requestOptions = {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\", 'Authorization': 'Bearer ' + Cookies.get(\"token\").toString() },\n        body: JSON.stringify({\n            new_name: inputFields.name,\n            new_surname: inputFields.surname\n        })\n    };\n    const response = await fetch(\"http://localhost:3000/users/update/settings\", requestOptions);\n    const data = await response.json();\n\n    if (!response.ok) {\n        setFormMessage(\"Error\");\n    }\n    else {\n        setFormMessage(\"Name has been updated\")\n    }\n}"],"mappings":"AAAA,OAAOA,OAAO,MAAM,WAAW;AAU/B,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;EAC/B,MAAMC,cAAc,GAAG;IACnBC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,eAAe,EAAE,SAAS,GAAGJ,OAAO,CAACK,GAAG,CAAC,OAAO,CAAC,CAACC,QAAQ,CAAC;IAAE;EAChH,CAAC;EACD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAEN,cAAc,CAAC;EACnF,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAElCC,cAAc,CAACF,IAAI,CAAC;AACxB,CAAC;AAAAG,EAAA,GATKX,cAAc;AAUpB,MAAMY,aAAa,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAMX,cAAc,GAAG;IACnBC,MAAM,EAAE,QAAQ;IAChBC,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,eAAe,EAAE,SAAS,GAAGJ,OAAO,CAACK,GAAG,CAAC,OAAO,CAAC,CAACC,QAAQ,CAAC;IAAE;EAChH,CAAC;EACD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAEN,cAAc,CAAC;EACnF,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAElC,IAAIH,QAAQ,CAACO,EAAE,EAAE;IACbd,OAAO,CAACe,GAAG,CAAC,eAAe,EAAE,KAAK,CAAC;IACnCf,OAAO,CAACe,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC;IACxBf,OAAO,CAACe,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC;IAC3Bf,OAAO,CAACe,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC;IACvBf,OAAO,CAACe,GAAG,CAAC,SAAS,EAAE,EAAE,CAAC;IAE1BC,QAAQ,CAAC,SAAS,CAAC;EACvB;AACJ,CAAC;AAAAC,GAAA,GAjBKJ,aAAa;AAmBnB,MAAMK,aAAa,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAMhB,cAAc,GAAG;IACnBC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MAAE,cAAc,EAAE,kBAAkB;MAAE,eAAe,EAAE,SAAS,GAAGJ,OAAO,CAACK,GAAG,CAAC,OAAO,CAAC,CAACC,QAAQ,CAAC;IAAE,CAAC;IAC7Ga,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACjBC,QAAQ,EAAEC,WAAW,CAACC,IAAI;MAC1BC,WAAW,EAAEF,WAAW,CAACG;IAC7B,CAAC;EACL,CAAC;EACD,MAAMnB,QAAQ,GAAG,MAAMC,KAAK,CAAC,6CAA6C,EAAEN,cAAc,CAAC;EAC3F,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAElC,IAAI,CAACH,QAAQ,CAACO,EAAE,EAAE;IACda,cAAc,CAAC,OAAO,CAAC;EAC3B,CAAC,MACI;IACDA,cAAc,CAAC,uBAAuB,CAAC;EAC3C;AACJ,CAAC;AAAAC,GAAA,GAlBKV,aAAa;AAAA,IAAAN,EAAA,EAAAK,GAAA,EAAAW,GAAA;AAAAC,YAAA,CAAAjB,EAAA;AAAAiB,YAAA,CAAAZ,GAAA;AAAAY,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}